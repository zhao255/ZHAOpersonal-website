<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document Operator</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.0/es5/tex-mml-chtml.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.16.105/pdf.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/pdfjs-dist@2.16.105/build/pdf.worker.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://unpkg.com/pdf-lib@1.17.1/dist/pdf-lib.js"></script>
</head>
<body>
    <header>
        <h1>Document Operator</h1>
        <p class="contact-info">By ZHAO XUECEN | Email: zhaoj6332@gmail.com | Tel: 00852 56170888</p>
        <div class="theme-switch">
            <label for="theme-toggle">Dark Mode</label>
            <label class="switch">
                <input type="checkbox" id="theme-toggle">
                <span class="slider"></span>
            </label>
        </div>
    </header>

    <nav>
        <button id="latex-editor-btn">LaTeX Editor</button>
        <button id="document-analysis-btn">Document Analysis</button>
        <button id="pdf-tools-btn">PDF Tools</button>
    </nav>

    <main>
        <!-- LaTeX Editor Section -->
        <section id="latex-editor" class="section active">
            <h2>LaTeX Editor</h2>

            <div class="shortcuts">
                <button class="shortcut-btn" data-latex="\frac{a}{b}">Fraction (a/b)</button>
                <button class="shortcut-btn" data-latex="\sqrt{x}">Square Root</button>
                <button class="shortcut-btn" data-latex="\sqrt[n]{x}">nth Root</button>
                <button class="shortcut-btn" data-latex="\sum_{i=1}^{n}">Sum</button>
                <button class="shortcut-btn" data-latex="\int_{a}^{b}">Integral</button>
                <button class="shortcut-btn" data-latex="\partial">Partial ∂</button>
                <button class="shortcut-btn" data-latex="\lim_{x \to \infty}">Limit</button>
                <button class="shortcut-btn" data-latex="\sin(x)">sin</button>
                <button class="shortcut-btn" data-latex="\cos(x)">cos</button>
                <button class="shortcut-btn" data-latex="\tan(x)">tan</button>
                <button class="shortcut-btn" data-latex="\log_{b}(x)">log base b</button>
                <button class="shortcut-btn" data-latex="\ln(x)">ln</button>
                <button class="shortcut-btn" data-latex="\begin{bmatrix} a & b \\ c & d \end{bmatrix}">2×2 Matrix</button>
                <button class="shortcut-btn" data-latex="\neq">Not Equal (≠)</button>
                <button class="shortcut-btn" data-latex="\leq">Less or Equal (≤)</button>
                <button class="shortcut-btn" data-latex="\geq">Greater or Equal (≥)</button>
                <button class="shortcut-btn" data-latex="\approx">Approximately (≈)</button>
                <button class="shortcut-btn" data-latex="\prod_{i=1}^{n}">Product</button>
                <button class="shortcut-btn" data-latex="\nabla">Nabla (∇)</button>
                <button class="shortcut-btn" data-latex="\infty">Infinity (∞)</button>
            </div>

            <div>
                <h3>Convert Regular Equation to LaTeX</h3>
                <input type="text" class="convert-input" id="equation-input" placeholder="Enter equation (e.g. √(1-x^2))">
                <button class="convert-btn" id="convert-equation">Convert to LaTeX</button>
            </div>

            <div class="editor-container">
                <textarea class="editor-input" id="latex-input" placeholder="Enter LaTeX code here..."></textarea>
                <div class="editor-preview" id="latex-preview"></div>
            </div>
        </section>

        <!-- Document Analysis Section -->
        <section id="document-analysis" class="section">
            <h2>Document Analysis & Citation Counter</h2>
            
            <div class="document-analysis-container">
                <div>
                    <textarea class="document-input" id="document-text" placeholder="Paste your document text here or upload a document..."></textarea>
                    <div class="analysis-options">
                        <input type="file" id="document-file" accept=".txt,.doc,.docx,.pdf">
                        <label for="document-file" class="file-label">Upload Document</label>
                        
                        <div style="margin-top: 10px;">
                            <label><input type="checkbox" id="include-equations"> Include equations in word count</label>
                            <label><input type="checkbox" id="include-citations"> Include citations in word count</label>
                        </div>
                        
                        <button class="analysis-btn" id="analyze-document">Analyze Document</button>
                    </div>
                </div>
                
                <div class="document-analysis" id="analysis-results">
                    <p>Analysis results will appear here...</p>
                </div>
            </div>
            
            <div class="chart-container" id="analysis-chart">
                <!-- Analysis table will be displayed here (replaced chart) -->
            </div>
            
            <div class="calculator">
                <h3>Calculator</h3>
                <input type="text" id="calculator-input" placeholder="0" readonly>
                <div class="calculator-buttons">
                    <button class="calculator-btn" data-value="7">7</button>
                    <button class="calculator-btn" data-value="8">8</button>
                    <button class="calculator-btn" data-value="9">9</button>
                    <button class="calculator-btn" data-value="/">/</button>
                    <button class="calculator-btn" data-value="4">4</button>
                    <button class="calculator-btn" data-value="5">5</button>
                    <button class="calculator-btn" data-value="6">6</button>
                    <button class="calculator-btn" data-value="*">×</button>
                    <button class="calculator-btn" data-value="1">1</button>
                    <button class="calculator-btn" data-value="2">2</button>
                    <button class="calculator-btn" data-value="3">3</button>
                    <button class="calculator-btn" data-value="-">-</button>
                    <button class="calculator-btn" data-value="0">0</button>
                    <button class="calculator-btn" data-value=".">.</button>
                    <button class="calculator-btn" data-value="=">=</button>
                    <button class="calculator-btn" data-value="+">+</button>
                    <button class="calculator-btn" data-value="C" style="grid-column: span 4;">Clear</button>
                </div>
            </div>
            
            <div class="equations-list" id="equations-list">
                <h3>Equations Found</h3>
                <div id="equations-content">
                    <p>No equations found yet.</p>
                </div>
            </div>
        </section>

        <!-- PDF Tools Section -->
        <section id="pdf-tools" class="section">
            <h2>PDF Tools</h2>
            
            <div class="pdf-tools">
                <div class="pdf-tool">
                    <h3>Image to PDF</h3>
                    <input type="file" id="image-to-pdf-input" class="file-input" accept="image/*" multiple>
                    <label for="image-to-pdf-input" class="file-label">Select Images</label>
                    <button class="process-btn" id="convert-image-to-pdf">Convert</button>
                    <div class="preview-area" id="image-to-pdf-preview">
                        <p>Select images to preview</p>
                    </div>
                </div>
                
                <div class="pdf-tool">
                    <h3>Append Image to PDF</h3>
                    <input type="file" id="pdf-input" class="file-input" accept=".pdf">
                    <label for="pdf-input" class="file-label">Select PDF</label>
                    <input type="file" id="append-image-input" class="file-input" accept="image/*" multiple>
                    <label for="append-image-input" class="file-label">Select Images</label>
                    <button class="process-btn" id="append-image-to-pdf">Append</button>
                    <div class="preview-area" id="append-preview">
                        <p>Select files to preview</p>
                    </div>
                </div>
                
                <div class="pdf-tool">
                    <h3>Split PDF</h3>
                    <input type="file" id="split-pdf-input" class="file-input" accept=".pdf">
                    <label for="split-pdf-input" class="file-label">Select PDF</label>
                    <input type="text" id="split-pages" placeholder="Pages (e.g. 1-3,5,7-9)" style="width: 100%; padding: 8px; margin-top: 10px; border-radius: 4px; border: 1px solid var(--border-color); background-color: var(--bg-color); color: var(--text-color);">
                    <button class="process-btn" id="split-pdf">Split</button>
                    <div class="preview-area" id="split-preview">
                        <p>Select a PDF to preview</p>
                    </div>
                </div>
                
                <div class="pdf-tool">
                    <h3>Merge PDFs</h3>
                    <input type="file" id="merge-pdf-input" class="file-input" accept=".pdf" multiple>
                    <label for="merge-pdf-input" class="file-label">Select PDFs</label>
                    <button class="process-btn" id="merge-pdfs">Merge</button>
                    <div class="preview-area" id="merge-preview">
                        <p>Select PDFs to preview</p>
                    </div>
                </div>
                
                <div class="pdf-tool">
                    <h3>Sign PDF</h3>
                    <input type="file" id="sign-pdf-input" class="file-input" accept=".pdf">
                    <label for="sign-pdf-input" class="file-label">Select PDF</label>
                    <canvas id="signature-pad" style="border: 1px solid var(--border-color); margin-top: 10px; width: 100%; height: 100px; background-color: white;"></canvas>
                    <button class="process-btn" id="clear-signature" style="margin-right: 5px;">Clear</button>
                    <button class="process-btn" id="sign-pdf">Apply Signature</button>
                    <div class="preview-area" id="sign-preview">
                        <p>Select a PDF to preview</p>
                    </div>
                </div>
                
                <div class="pdf-tool">
                    <h3>Extract Text & Equations</h3>
                    <input type="file" id="extract-pdf-input" class="file-input" accept=".pdf">
                    <label for="extract-pdf-input" class="file-label">Select PDF</label>
                    <button class="process-btn" id="extract-text">Extract</button>
                    <div class="preview-area" id="extract-preview">
                        <p>Select a PDF to extract text</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <p>Document Operator © 2025 ZHAO XUECEN. All rights reserved.</p>
    </footer>

    <script src="script.js"></script>
</body>
</html> 